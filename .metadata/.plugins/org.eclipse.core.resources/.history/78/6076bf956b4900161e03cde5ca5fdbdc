package br.edu.ifba.curso.webservice.mongo.db;


import org.bson.Document;

import com.mongodb.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;

import br.edu.ifba.curso.webservice.mongo.Usuario;

public class FachadaBD {
	private static final String HOST = "localhost";
	private static final int PORT =  27017;
	private static final String DB_NAME = "twitter-mongo";
	
	private MongoClient client;
	private MongoDatabase db;
	
	private static FachadaBD instancia = null;
	
	public static FachadaBD getInstancia() {
		if (instancia == null) {
			instancia = new FachadaBD();
		}
		return instancia;
	}
	
	private FachadaBD() {}
	
	public MongoDatabase getDB() {
		client = new MongoClient(HOST, PORT);
		db = client.getDatabase(DB_NAME);
		return db;
	}
	
	public void insertOne(Usuario novo) {
		MongoCollection colecaoUsuario = db.getCollection("usuario");
		Document documento = new Document();
		documento.append("nome", "x");
		documento.append("userName", "x1");
		documento.append("email", "x2");
		documento.append("senha", "x3");
		
		colecaoUsuario.insertOne(documento);
	}

}
